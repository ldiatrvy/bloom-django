{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bloom{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'main/img/logo.png' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="{%static 'main/css/main.css' %}">
</head>
<body>
  <script src="{% static 'main/js/main.js' %}"></script>
  <button id="toggle-menu" aria-label="Toggle menu" class="menu-toggle">
    <i class="fa-solid fa-bars"></i>
  </button>
    <aside>
        <img src="{%static 'main/img/logo.png'%}">
        <span class="logo">bloom</span>
        <ul>            
            <a href="{% url 'catalog_flow' %}"><li><i class="fa-solid fa-house" style="color: #568dc9;"></i> Главная</li></a>
            {% if user.is_authenticated %}
            <a href="{% url 'profile' %}"><li><i class="fa-solid fa-user" style="color: #568dc9;"></i> Профиль</li></a>
            <a href="{% url 'cart:cart_detail' %}"><li><i class="fa-solid fa-basket-shopping" style="color: #568dc9;"></i> Корзина</li></a>
            {% endif %}
            <a href="{% url 'about' %}"><li><i class="fa-solid fa-address-card" style="color: #568dc9;"></i> О компании</li></a>
            <a href="{% url 'discount_home' %}"><li><i class="fa-solid fa-tags" style="color: #568dc9;"></i> Акции</li></a>
            <a href="{% url 'contacts' %}"><li><i class="fa-solid fa-phone" style="color: #568dc9;"></i> Контакты</li></a>
            <a href="{% url 'faq' %}"><li><i class="fa-solid fa-circle-question" style="color: #568dc9;"></i> FAQ</li></a>
            {% if user.is_authenticated %}
            <button type="button" class="logout-btn" data-bs-toggle="modal" data-bs-target="#logoutModal"><i class="fa-solid fa-right-from-bracket" style="color: #568dc9;"></i> Выход</button>
            {% else %}
            <a href="{% url 'login' %}"><li><i class="fa-solid fa-right-to-bracket"></i> Войти</li></a>
            {% endif %}
        </ul>
    </aside>
    <main>
        {% block content %}
        {% endblock %}
    </main>

    <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="logoutModalLabel">Подтвердите выход</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
        </div>
        <div class="modal-body">
          Уверены, что хотите выйти?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" data-bs-dismiss="modal">Отмена</button>
          <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-dark">Выйти</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <footer>
      <nav>
          <a href="{% url 'catalog_flow' %}">Главная</a>
          <a href="{% url 'about' %}">О компании</a>
          <a href="{% url 'discount_home' %}">Акции</a>
          <a href="{% url 'contacts' %}">Контакты</a>
          <a href="{% url 'faq' %}">FAQ</a>
      </nav>
  </footer>
  <button id="scrollToTopBtn" class="scroll-to-top">
      <i class="fa-solid fa-chevron-up"></i>
  </button>
  <script>
  document.addEventListener('DOMContentLoaded', function() {
      const scrollToTopBtn = document.getElementById('scrollToTopBtn');
      
      if (scrollToTopBtn) {
          window.addEventListener('scroll', function() {
              if (window.pageYOffset > 300) {
                  scrollToTopBtn.classList.add('show');
              } else {
                  scrollToTopBtn.classList.remove('show');
              }
          });

          scrollToTopBtn.addEventListener('click', function(e) {
              e.preventDefault();
              window.scrollTo({
                  top: 0,
                  behavior: 'smooth'
              });
          });
      }
  });
  document.getElementById('toggle-menu').addEventListener('click', function() {
  document.querySelector('aside').classList.toggle('active');
});

  </script>
</body>
</html>